---
name: useInViewport
route: /useInViewport
menu: 'Other'
edit: false
sidebar: true
---

import JackBox from 'jackbox';

import Demo1 from './demo/demo1';
import Demo1Tsx from '!raw-loader!./demo/demo1.tsx';
import Demo1Jsx from '!raw-loader!./demo/demo1.jsx';

import Demo2 from './demo/demo2';
import Demo2Tsx from '!raw-loader!./demo/demo2.tsx';
import Demo2Jsx from '!raw-loader!./demo/demo2.jsx';


# useInViewport

A hook to subscribe DOM element visibility change

## Examples

### Default usage

<JackBox tsCode={Demo1Tsx} jsCode={Demo1Jsx} demoName='Default usage' description='using ref to listen to visibility change'>
  <Demo1 />
</JackBox>

### Lazy load DOM element（used to subscibe to DOM element renders after the hook）

<JackBox tsCode={Demo2Tsx} jsCode={Demo2Jsx} demoName='Lazy load DOM element（used to subscibe to dom element renders after the hook）' description='pass in a function that returns the DOM element'>
  <Demo2 />
</JackBox>


## API

```
const [ inViewPort, ref? ] = useInViewport(dom);
```

### Result

| Property | Description                                         | Type                 |
|----------|------------------------------------------|------------|
| inViewPort  | Whether DOM elements are in the visible range                             | boolean    |
| ref     | when no param is passed, this ref will be listened      | -        |

### Params

| Property | Description                                                        | Type                   | Default |
|---------|----------------------------------------------|------------------------|--------|
| dom? | optional, if none is passed, this hook will subscibe to the ref that it returns  | HTMLElement \| (() => HTMLElement) \| undefined | -      |
